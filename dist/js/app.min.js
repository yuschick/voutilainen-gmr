/******/
!function(t){function e(i){if(n[i])return n[i].exports
var s=n[i]={exports:{},id:i,loaded:!1}
return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={}
e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict"
!function(){var t=n(1),e={dials:[{id:"local-time",hands:{hour:"primary-hours-hand",minute:"primary-minutes-hand"},offset:"+3"},{id:"home-time",hands:{hour:"secondary-hours-hand",second:"secondary-minutes-hand"},offset:"-4",format:24}],reserve:{id:"power-reserve-hand",range:[-90,90]},crown:{id:"crown",blackout:[{selector:".blackout",className:"active"},{selector:".main_dial",className:"faded"}]}},i=new t(e),s=document.getElementById("home-field"),r=document.getElementById("local-field")
s.addEventListener("change",function(){i.stopInterval(),e.dials[1].offset=s.value.toString(),i=new t(e)}),r.addEventListener("change",function(){i.stopInterval(),e.dials[0].offset=r.value.toString(),i=new t(e)})}()},function(t,e,n){"use strict"
function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2),a=n(4),o=n(5),c=n(6),u=function(){function t(e){var n=this
i(this,t),this.dialInstances=[],this.globalInterval=null,this.rightNow=new Date,e.dials.forEach(function(t){var e=new r(t,n)
n.dialInstances.push(e)}),e.crown&&(this.crown=new a(e.crown,this)),e.reserve&&(this.powerReserve=new o(e.reserve,this)),e.moonphase&&(this.moonphase=new c(e.moonphase,this)),this.init()}return s(t,[{key:"keyBindings",value:function(){var t=this
window.addEventListener("keydown",function(e){switch(e.preventDefault(),event.keyCode){case 37:t.powerReserve&&t.powerReserve.incrementReserve()
break
case 13:t.crown&&t.crown.toggleCrown()}if(t.crown&&t.crown.crownActive)switch(event.keyCode){case 37:t.powerReserve&&t.powerReserve.incrementReserve()
break
case 38:t.dialInstances.forEach(function(e){e.setSecondary&&e.id===t.dialInstances[t.dialInstances.length-1].id?e.rotateHands():e.setSecondary||e.rotateHands()})
break
case 39:t.crown&&t.crown.toggleBlackout(),t.dialInstances.forEach(function(t){t.toggleSecondaryTime()})
break
case 40:t.dialInstances.forEach(function(e){e.setSecondary&&e.id===t.dialInstances[t.dialInstances.length-1].id?e.rotateHands("back"):e.setSecondary||e.rotateHands("back")})}})}},{key:"startInterval",value:function(){var t=this
this.globalInterval=setInterval(function(){t.dialInstances.forEach(function(t){t.getCurrentTime(),t.rotateHands()}),t.powerReserve&&t.powerReserve.decrementReserve(),t.moonphase&&t.moonphase.getCurrentPhase()},1e3)}},{key:"stopInterval",value:function(){clearInterval(this.globalInterval),this.globalInterval=null}},{key:"init",value:function(){this.startInterval(),this.keyBindings()}}]),t}()
t.exports=u},function(t,e,n){"use strict"
function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3),a=function(){function t(e,n){i(this,t)
try{if(!e.hands)throw"The Dial class needs an object containing the HTML elements for the hands."}catch(t){return void console.error(t)}this.id=e.id,this.hands={},e.hands.hour&&(this.hands.hour=document.getElementById(e.hands.hour)),e.hands.minute&&(this.hands.minute=document.getElementById(e.hands.minute)),e.hands.second&&(this.hands.second=document.getElementById(e.hands.second)),this.parent=n,this.format=e.format?e.format:12,this.gmtOffset=e.offset?e.offset.toString():null,this.rightNow=this.parent.rightNow,this.currentTime={},this.rotateValues={hoursRotateVal:12===this.format?30:15,hoursRotateValOffset:12===this.format?.5:.25,hourJump:30,minutesRotateVal:6},this.interval=null,this.crownActive=!1,this.manualTime=!1,this.settingTime=!1,this.setSecondary=!1,this.transition=null,this.init()}return s(t,[{key:"toggleActiveCrown",value:function(){this.crownActive=!this.crownActive}},{key:"toggleSecondaryTime",value:function(){this.setSecondary=!this.setSecondary}},{key:"toggleSettingTime",value:function(){this.settingTime=!this.settingTime}},{key:"updateToManualTime",value:function(){this.manualTime=!0}},{key:"startInterval",value:function(){var t=this
this.interval=setInterval(function(){t.getCurrentTime(),t.rotateHands()},1e3)}},{key:"stopInterval",value:function(){clearInterval(this.interval),this.interval=null}},{key:"getCurrentTime",value:function(){if(this.rightNow=new Date,this.gmtOffset){var t=this.rightNow.getTime()+6e4*this.rightNow.getTimezoneOffset()
this.rightNow=new Date(t+36e5*this.gmtOffset)}var e={hours:this.rightNow.getHours(),minutes:this.rightNow.getMinutes(),seconds:this.rightNow.getSeconds()}
this.currentTime=e}},{key:"rotateHands",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=void 0
if(this.hands.hour){var n=this.setSecondary?this.rotateValues.hourJump:this.rotateValues.hoursRotateValOffset
e=r.getCurrentRotateValue(this.hands.hour),this.settingTime?t?e-=n:e+=n:this.manualTime?0===this.currentTime.seconds&&(e=r.getCurrentRotateValue(this.hands.hour)+this.rotateValues.hoursRotateValOffset):e=this.currentTime.hours*this.rotateValues.hoursRotateVal+this.currentTime.minutes*this.rotateValues.hoursRotateValOffset,this.hands.hour.style.transform="rotate("+e+"deg)"}this.hands.minute&&(e=r.getCurrentRotateValue(this.hands.minute),this.settingTime?t?e-=this.rotateValues.minutesRotateVal:e+=this.rotateValues.minutesRotateVal:this.manualTime?0===this.currentTime.seconds&&(e+=this.rotateValues.minutesRotateVal):e=this.currentTime.minutes*this.rotateValues.minutesRotateVal,this.hands.minute.style.transform="rotate("+e+"deg)"),this.hands.second&&(e=this.currentTime.seconds*this.rotateValues.minutesRotateVal,0===e?(this.transition=this.hands.second.style.transition,this.hands.second.style.transition="none"):e>0&&"none"===this.hands.second.style.transition&&(this.hands.second.style.transition=this.transition),this.hands.second.style.transform="rotate("+e+"deg)")}},{key:"init",value:function(){var t=this
setTimeout(function(){t.getCurrentTime(),t.rotateHands()},350)}}]),t}()
t.exports=a},function(t,e){"use strict"
t.exports={getCurrentRotateValue:function(t){var e=t.style.transform,n=e.replace("rotate(","").replace("deg)","")
return Number(n)}}},function(t,e){"use strict"
function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(e,i){n(this,t),this.crown=document.getElementById(e.id),this.blackoutElements=e.blackout,this.parent=i,this.crownActive=!1,this.setSecondary=!1,this.init()}return i(t,[{key:"toggleBlackout",value:function(){this.setSecondary=!this.setSecondary,this.blackoutElements.forEach(function(t){document.querySelector(t.selector).classList.toggle(t.className)})}},{key:"toggleCrown",value:function(){this.crownActive=!this.crownActive,this.parent.dialInstances.forEach(function(t){t.toggleActiveCrown&&t.toggleActiveCrown(),t.setSecondary&&t.toggleSecondaryTime()}),this.crownActive?(this.parent.stopInterval(),this.crown.classList.add("active"),this.parent.dialInstances.forEach(function(t){t.toggleSettingTime&&t.toggleSettingTime()})):(this.parent.startInterval(),this.crown.classList.remove("active"),this.setSecondary&&this.toggleBlackout(),this.parent.dialInstances.forEach(function(t){t.toggleSettingTime&&t.toggleSettingTime(),t.updateToManualTime&&t.updateToManualTime()}))}},{key:"init",value:function(){var t=this
this.crown.addEventListener("click",function(){t.toggleCrown()})}}]),t}()
t.exports=s},function(t,e,n){"use strict"
function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3),a=function(){function t(e,n){i(this,t),this.element=document.getElementById(e.id),this.interval=null,this.parent=n,this.minAngle=e.range[0],this.maxAngle=e.range[1],this.increment=.5,this.init()}return s(t,[{key:"decrementReserve",value:function(){var t=r.getCurrentRotateValue(this.element)
if(t<=this.minAngle)this.parent.stopInterval()
else{var e=Number(t)-this.increment/2
this.element.style.transform="rotate("+e+"deg)"}}},{key:"incrementReserve",value:function(){var t=r.getCurrentRotateValue(this.element)
if(t<=this.maxAngle-this.increment&&t>=this.minAngle){var e=Number(t)+this.increment
this.element.style.transform="rotate("+e+"deg)"}}},{key:"startInterval",value:function(){var t=this
this.interval=setInterval(function(){t.decrementReserve()},1e3)}},{key:"stopInterval",value:function(){clearInterval(this.interval),this.interval=null}},{key:"init",value:function(){this.element.style.transform="rotate("+this.maxAngle+"deg)"}}]),t}()
t.exports=a},function(t,e){"use strict"
function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(e,i){n(this,t),this.parent=i,this.element=document.getElementById(e.id),this.invert=e.invert||!1,this.init()}return i(t,[{key:"rotateDisc",value:function(t){t=this.invert?-1*t:t,this.element.style.transform="rotate("+t+"deg)"}},{key:"getCurrentPhase",value:function(){var t=this.parent.rightNow,e=t.getFullYear(),n=t.getMonth(),i=t.getDate(),s=void 0,r=void 0,a=void 0,o=void 0,c=void 0
switch(n<3&&(e--,n+=12),n++,s=365.25*e,r=30.6*n,a=s+r+i-694039.09,a/=29.5305882,o=parseInt(a),a-=o,o=Math.round(8*a),c=10*a,c=+c.toFixed(2),o>=8&&(o=0),o){case 0:this.rotateDisc(180)
break
case 1:this.rotateDisc(22.5)
break
case 2:this.rotateDisc(45)
break
case 3:this.rotateDisc(67.5)
break
case 4:this.rotateDisc(0)
break
case 5:this.rotateDisc(-22.5)
break
case 6:this.rotateDisc(-45)
break
case 7:this.rotateDisc(-67.5)
break
default:console.log("Error")}}},{key:"init",value:function(){this.getCurrentPhase()}}]),t}()
t.exports=s}])
