/******/
!function(t){function e(a){if(n[a])return n[a].exports
var s=n[a]={exports:{},id:a,loaded:!1}
return t[a].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={}
e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict"
function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n]
a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=n(1)
!function(){var t=!1,e=!1,n=document.getElementById("crown")
n.addEventListener("click",function(){t=!t,t?(n.classList.add("active"),l.stopInterval(),c.stopInterval(),l.updateManualTime(),c.updateManualTime()):(n.classList.remove("active"),l.startInterval(),c.startInterval())})
var r=function(){function t(e){a(this,t),this.element=document.getElementById(e),this.interval=null,this.init()}return s(t,[{key:"decrementReserve",value:function(){var t=l.getCurrentRotateValue(this.element)
if(t<=-90)this.interval=null,l.stopInterval(),c.stopInterval()
else{var e=Number(t)-.25
this.element.style.transform="rotate("+e+"deg)"}}},{key:"incrementReserve",value:function(){var t=l.getCurrentRotateValue(this.element)
if(t<=89.5&&t>=-90){var e=Number(t)+.5
this.element.style.transform="rotate("+e+"deg)"}}},{key:"init",value:function(){var t=this
this.element.style.transform="rotate(90deg)",this.interval=setInterval(function(){t.decrementReserve()},1e3)}}]),t}(),o=new r("power-reserve-hand")
window.addEventListener("keydown",function(){if(37===event.keyCode&&o.incrementReserve(),t)switch(event.keyCode){case 37:o.incrementReserve()
break
case 38:e?c.rotateHands():(l.rotateHands(),c.rotateHands())
break
case 39:e=!e,c.setSecondaryTime()
document.querySelector(".blackout").classList.toggle("active")
break
case 40:e?c.rotateHands("back"):(l.rotateHands("back"),c.rotateHands("back"))}})
var u={hour:document.getElementById("primary-hours-hand"),minute:document.getElementById("primary-minutes-hand")},h={hour:document.getElementById("secondary-hours-hand"),second:document.getElementById("secondary-minutes-hand")},l=new i(u,"+3"),c=new i(h,"-4",24),d=document.getElementById("home-field"),m=document.getElementById("local-field")
d.addEventListener("change",function(){c.stopInterval(),c=new i(h,d.value.toString(),24)}),m.addEventListener("change",function(){l.stopInterval(),l=new i(u,m.value.toString(),12)})}()},function(t,e){"use strict"
function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n]
a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),s=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12
n(this,t)
try{if(!e)throw"The Watch class needs an objbect containing the HTML elements for the hands."}catch(t){return void console.error(t)}this.rightNow=new Date,this.currentTime={},this.gmtOffset=a?a.toString():null,this.hands=e,this.format=s,this.rotateValues={hoursRotateVal:12===this.format?30:15,hoursRotateValOffset:12===this.format?.5:.25,hourJump:30,minutesRotateVal:6},this.interval=null,this.crownActive=!1,this.manualTime=!1,this.setSecondary=!1,this.init()}return a(t,[{key:"updateManualTime",value:function(){this.manualTime=!this.manualTime}},{key:"stopInterval",value:function(){this.crownActive=!0,clearInterval(this.interval),this.interval=null}},{key:"startInterval",value:function(){var t=this
this.interval=setInterval(function(){t.getCurrentTime(),t.rotateHands()},1e3),this.crownActive=!1}},{key:"getCurrentTime",value:function(){if(this.rightNow=new Date,this.gmtOffset){var t=this.rightNow.getTime()+6e4*this.rightNow.getTimezoneOffset()
this.rightNow=new Date(t+36e5*this.gmtOffset)}var e={hours:this.rightNow.getHours(),minutes:this.rightNow.getMinutes(),seconds:this.rightNow.getSeconds()}
this.currentTime=e}},{key:"setSecondaryTime",value:function(){this.setSecondary=!this.setSecondary}},{key:"rotateHands",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"forward",e=this.setSecondary?this.rotateValues.hourJump:this.rotateValues.hoursRotateValOffset,n=void 0
this.hands.hour&&(this.manualTime&&!this.interval||this.interval&&0===this.currentTime.seconds)?this.hands.hour.style.transform="forward"===t?"rotate("+(this.getCurrentRotateValue(this.hands.hour)+e)+"deg)":"rotate("+(this.getCurrentRotateValue(this.hands.hour)-e)+"deg)":this.hands.hour&&!this.manualTime&&(n=this.currentTime.hours*this.rotateValues.hoursRotateVal+this.currentTime.minutes*this.rotateValues.hoursRotateValOffset,0===n?this.hands.hour.classList.add("jumping"):n>0&&this.hands.hour.classList.contains("jumping")&&this.hands.hour.classList.remove("jumping"),this.hands.hour.style.transform="rotate("+n+"deg)"),this.hands.minute&&(this.manualTime&&!this.interval||this.interval&&0===this.currentTime.seconds)?this.hands.minute.style.transform="forward"===t?"rotate("+(this.getCurrentRotateValue(this.hands.minute)+this.rotateValues.minutesRotateVal)+"deg)":"rotate("+(this.getCurrentRotateValue(this.hands.minute)-this.rotateValues.minutesRotateVal)+"deg)":this.hands.minute&&!this.manualTime&&(n=this.currentTime.minutes*this.rotateValues.minutesRotateVal,0===n?this.hands.minute.classList.add("jumping"):n>0&&this.hands.minute.classList.contains("jumping")&&this.hands.minute.classList.remove("jumping"),this.hands.minute.style.transform="rotate("+n+"deg)"),this.hands.second&&(n=this.currentTime.seconds*this.rotateValues.minutesRotateVal,0===n?this.hands.second.classList.add("jumping"):n>0&&this.hands.second.classList.contains("jumping")&&this.hands.second.classList.remove("jumping"),this.hands.second.style.transform="rotate("+n+"deg)")}},{key:"getCurrentRotateValue",value:function(t){var e=t.style.transform,n=e.replace("rotate(","").replace("deg)","")
return Number(n)}},{key:"init",value:function(){var t=this
setTimeout(function(){t.getCurrentTime(),t.rotateHands()},350),this.startInterval()}}]),t}()
t.exports=s}])
